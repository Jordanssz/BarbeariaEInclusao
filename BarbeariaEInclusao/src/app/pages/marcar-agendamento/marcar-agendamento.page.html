<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/inicio"></ion-back-button>
    </ion-buttons>
    <ion-title>Marcar Agendamento</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="custom-bg ion-padding">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Marcar Agendamento</ion-title>
    </ion-toolbar>
  </ion-header>

Â  <div class="agendamento-container">

Â  Â  <!-- ðŸ’¡ CORREÃ‡ÃƒO: Usando servicoSelecionado e verificando se ele existe. -->
Â  Â  <ion-card *ngIf="servicoSelecionado">
Â  Â  Â  <ion-card-content>
Â  Â  Â  Â  <!-- ðŸ’¡ ACESSO DIRETO: servicoSelecionado.nomeServico -->
Â  Â  Â  Â  <h2 class="servico-resumo">{{ servicoSelecionado.nomeServico }}</h2>
Â  Â  Â  Â  <!-- ðŸ’¡ ACESSO DIRETO: servicoSelecionado.descricaoServico -->
Â  Â  Â  Â  <p class="resumo-texto">{{ servicoSelecionado.descricaoServico }}</p>
Â  Â  Â  Â  <!-- ðŸ’¡ ACESSO DIRETO: servicoSelecionado.precoServico -->
Â  Â  Â  Â  <p class="servico-preco">PreÃ§o: {{ servicoSelecionado.precoServico | currency:'BRL':'symbol':'1.2-2' }}</p>
Â  Â  Â  </ion-card-content>
Â  Â  </ion-card>

Â  Â  <div class="agendamento-form">
Â  Â  Â  <h2 class="agendamento-title">Escolha os detalhes do seu agendamento</h2>
      <!-- Select do Profissional (exibe primeiro) -->
      <ion-item>
        <ion-label position="stacked">Profissional</ion-label>
        <ion-select [(ngModel)]="profissionalSelecionado" placeholder="Selecione um profissional" (ionChange)="onProfissionalChange()">
          <ion-select-option *ngFor="let p of profissionaisDisponiveis" [value]="p.id">
            {{ p.nome }}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <!-- Seletor de Data (aparece somente apÃ³s escolher profissional) -->
      <ion-item *ngIf="profissionalSelecionado">
        <ion-label position="stacked">Data</ion-label>
        <ion-datetime
          presentation="date"
          [(ngModel)]="dataSelecionada"
          (ionChange)="onDataChange()"
          placeholder="Selecione uma data">
        </ion-datetime>
      </ion-item>

      <!-- Seletor de HorÃ¡rio (aparece somente apÃ³s escolher data) -->
      <ion-item *ngIf="dataSelecionada">
        <ion-label position="stacked">HorÃ¡rio</ion-label>
        <ion-select [(ngModel)]="horarioSelecionado" placeholder="Selecione um horÃ¡rio">
          <ion-select-option *ngFor="let hora of allHorariosDisponiveis" [value]="hora" [disabled]="isHorarioOcupado(hora)">
            {{ hora }}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <!-- BotÃ£o para confirmar (aparece quando todos os campos estiverem preenchidos) -->
      <ion-button *ngIf="profissionalSelecionado && dataSelecionada && horarioSelecionado" expand="block" class="confirmar-btn" (click)="abrirConfirmacao()">
        Confirmar Agendamento
      </ion-button>
Â  Â  </div>
Â  </div>
</ion-content>
